---
import Layout from '~/layouts/PageLayout.astro';

import Hero from '~/components/widgets/Hero.astro';
import Features from '~/components/widgets/Features.astro';
import Features2 from '~/components/widgets/Features2.astro';
import Content from '~/components/widgets/Content.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Stats from '~/components/widgets/Stats.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import Steps from '~/components/widgets/Steps.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import { getCommunityStats } from '~/utils/openCollective';

const communityStats = await getCommunityStats();

const metadata = {
  title: 'Why Mage-OS | Community-Owned Open Source Commerce',
  description:
    'Mage-OS is the community-owned Magento distribution born from 1,641 community voices. Zero vendor lock-in, faster innovation, and transparent governance. Migrate in minutes.',
};
---

<Layout metadata={metadata}>
  <!-- Hero Widget ******************* -->

  <Hero
    tagline="Community-Owned Commerce"
    actions={[
      {
        variant: 'primary',
        text: 'Download Mage-OS',
        href: '/get-started/quick-start',
        icon: 'tabler:download',
      },
      { text: 'Migration Guide', href: '/get-started/migration-guide', icon: 'tabler:refresh' },
    ]}
  >
    <Fragment slot="title">
      Why <span class="text-accent dark:text-white">Mage-OS</span>?
    </Fragment>

    <Fragment slot="subtitle">
      Born from <strong>1,641 community voices</strong> demanding change, Mage-OS is the independent, community-owned Magento
      distribution. No corporate agenda. No vendor lock-in. Just powerful open-source commerce built by merchants, developers,
      and agencies worldwide.
    </Fragment>
  </Hero>

  <!-- Stats Widget ****************** -->

  <Stats
    title="The Numbers Behind the Movement"
    subtitle="Real community investment, real community ownership"
    stats={[
      { title: 'Open Letter Signers', amount: '1,641' },
      { title: 'Financial Contributors', amount: `${communityStats.totalContributors}+` },
      { title: 'Total Contributions', amount: '106K+', icon: 'tabler:currency-euro' },
      { title: 'Years Building Together', amount: '3+' },
    ]}
  />

  <!-- Features Widget *************** -->

  <Features
    tagline="Core Benefits"
    title="What Sets Mage-OS Apart"
    subtitle="More than just another distribution—a movement to preserve and enhance open-source commerce"
    items={[
      {
        title: 'True Independence',
        description:
          'No corporate agenda. No shareholders to please. Mage-OS is a registered non-profit association, 100% community-owned and operated. Decisions prioritize ecosystem health, not quarterly earnings.',
        icon: 'tabler:flag',
      },
      {
        title: 'Faster Innovation',
        description:
          'Community-driven development delivers real results: AI-powered translations, PCI DSS 4.0 compliance, and performance optimizations that address actual merchant needs—not vendor roadmaps.',
        icon: 'tabler:rocket',
      },
      {
        title: 'Zero Vendor Lock-in',
        description:
          'Full compatibility with Magento Open Source means you can migrate in minutes. Your investment in extensions, themes, and customizations is protected. Switch back anytime.',
        icon: 'tabler:lock-open',
      },
      {
        title: 'Transparent Governance',
        description:
          'Public roadmaps, open Discord discussions, and democratic decision-making. See exactly where the project is heading, join weekly tech meetings, and have your say.',
        icon: 'tabler:eye',
      },
      {
        title: 'Global Community Support',
        description:
          'Access a worldwide network of 300,000+ developers, leading agencies, and successful merchants who contribute knowledge and actively support each other.',
        icon: 'tabler:users-group',
      },
      {
        title: 'Long-term Sustainability',
        description:
          "As a registered non-profit under Polish law, Mage-OS is built for longevity. We're here to serve the ecosystem for decades, funded by community contributions—not investor exits.",
        icon: 'tabler:clock',
      },
    ]}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-orange-50 dark:bg-transparent"></div>
    </Fragment>
  </Features>

  <!-- Steps Widget: Our Journey Timeline **************** -->

  <Steps
    title="Our Journey: From Open Letter to Open Source Leader"
    tagline="Our Story"
    items={[
      {
        title: '2018-2021: <span class="font-medium">A Turning Point for Magento</span>',
        description:
          "After Adobe's acquisition of Magento, the community watched as resources shifted toward Adobe Commerce. Community contributions slowed, and many worried about Magento Open Source's future.",
        icon: 'tabler:alert-triangle',
      },
      {
        title: '2021: <span class="font-medium">The Open Letter</span>',
        description:
          'Frustrated by the situation, passionate community members drafted a Letter about the Future of Magento. Within weeks, 1,641 agencies, developers, and merchants signed—a clear mandate for change.',
        icon: 'tabler:mail',
      },
      {
        title: '2022: <span class="font-medium">Founding the Association</span>',
        description:
          'The Mage-OS Association was founded as a global non-profit in Warsaw, Poland. Infrastructure was built, governance established, and the first contributors began working on the distribution.',
        icon: 'tabler:building',
      },
      {
        title: '2023: <span class="font-medium">The Magento Renaissance</span>',
        description:
          'In-person events resumed post-pandemic. The community came together at Meet Magento events worldwide. The first Mage-OS Distribution was introduced, proving community-driven development works.',
        icon: 'tabler:sparkles',
      },
      {
        title: '2024-2025: <span class="font-medium">Mage-OS 2.0 and Beyond</span>',
        description: `Mage-OS 2.0 launched with PCI DSS 4.0 compliance, AI translations, and performance enhancements. The project now has ${communityStats.totalContributors}+ financial contributors and a clear roadmap for continued innovation.`,
        icon: 'tabler:rocket',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
      alt: 'Mage-OS community collaboration',
    }}
  />

  <!-- Content Widget: Who Benefits **************** -->

  <Content
    isReversed
    tagline="Who Benefits"
    title="Built for Everyone in the Ecosystem"
    items={[
      {
        title: 'Merchants',
        description:
          'Faster time-to-market, reduced total cost of ownership, and enterprise-grade features without enterprise pricing. Keep your existing extensions and themes while gaining community-driven innovations.',
        icon: 'tabler:shopping-cart',
      },
      {
        title: 'Developers',
        description:
          'Modern development tools, transparent processes, and meaningful contribution paths. Build your reputation, influence the roadmap, and join weekly tech meetings on Discord.',
        icon: 'tabler:code',
      },
      {
        title: 'Agencies',
        description:
          'Competitive differentiation with clients, long-term project sustainability, and partnership opportunities. Recommend Mage-OS with confidence knowing a non-profit backs the platform.',
        icon: 'tabler:briefcase',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
      alt: 'Team collaboration',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        One Platform, Multiple Perspectives
      </h3>
      Whether you build, run, or sell on the platform, Mage-OS serves your needs.
    </Fragment>

    <Fragment slot="bg">
      <div class="absolute inset-0 bg-orange-50 dark:bg-transparent"></div>
    </Fragment>
  </Content>

  <!-- Testimonials Widget *********** -->

  <Testimonials
    title="Trusted by Industry Leaders"
    subtitle="Hear from the merchants, agencies, and developers building the future of open-source commerce"
    testimonials={[
      {
        testimonial: `Collaborating closely with Mage-OS is not just about securing our clients' future; it's about actively shaping it, contributing to making Mage-OS even better.`,
        name: 'Ignacio Riesco',
        job: 'CEO, Interactiv4',
      },
      {
        testimonial: `Making the decision to sponsor Mage-OS and become a gold partner was the easiest decision we've made. We are very excited for the future of the Magento platform.`,
        name: 'Arron Moss',
        job: 'Co-founder, MDOQ',
      },
      {
        testimonial: `Mage-OS 2.0 represents more than just a software release—it's proof that community-driven innovation works. Every module, every security enhancement exists because developers chose to invest in open source.`,
        name: 'Mage-OS Contributors',
        job: 'Global Community',
      },
    ]}
  />

  <!-- Features2 Widget: Platform Benefits ************** -->

  <Features2
    title="The Power of the Magento Platform"
    tagline="Platform Strengths"
    subtitle="Mage-OS inherits all of Magento's proven capabilities while adding community-driven enhancements"
    items={[
      {
        title: 'Unlimited Flexibility',
        description:
          'Open platform architecture lets you customize every aspect of your store. No artificial limitations, no feature paywalls.',
        icon: 'tabler:adjustments',
      },
      {
        title: 'Proven Scalability',
        description:
          'From startup to enterprise, the platform grows with you. Handle millions of products and orders without switching platforms.',
        icon: 'tabler:trending-up',
      },
      {
        title: 'Massive Ecosystem',
        description:
          '5,000+ extensions, thousands of themes, and integrations with every major payment, shipping, and marketing platform.',
        icon: 'tabler:apps',
      },
      {
        title: 'Global Community',
        description:
          '300,000+ developers worldwide, active forums, regular events, and decades of accumulated knowledge and best practices.',
        icon: 'tabler:world',
      },
    ]}
  />

  <!-- FAQs Widget ******************* -->

  <FAQs
    title="Common Questions About Mage-OS"
    tagline="FAQs"
    classes={{ container: 'max-w-6xl' }}
    items={[
      {
        title: 'Is Mage-OS a fork of Magento?',
        description:
          'Mage-OS is built on top of Magento Open Source, not a hard fork. We maintain full upstream compatibility while adding community-driven enhancements. You can switch between Mage-OS and Magento Open Source at any time.',
      },
      {
        title: 'Will my existing extensions and themes work?',
        description:
          'Yes. Mage-OS maintains 100% compatibility with Magento Open Source extensions and themes. Your existing ecosystem stays intact when you migrate.',
      },
      {
        title: 'How long does migration take?',
        description:
          'For most stores, migration takes 15-30 minutes. Update your composer.json to use the Mage-OS repository, run composer update, and you are done. See our <a href="/get-started/migration-guide" class="text-primary hover:underline">Migration Guide</a> for details.',
      },
      {
        title: 'Who owns and governs Mage-OS?',
        description:
          'Mage-OS is owned by a registered non-profit association under Polish law. Governance is democratic and transparent, with community members able to participate in decisions through membership and contribution.',
      },
      {
        title: 'How is Mage-OS funded?',
        description: `We are funded entirely by community contributions and partnerships. We have ${communityStats.totalContributors}+ financial contributors and multiple partner tiers. There are no investors or shareholders expecting returns.`,
      },
      {
        title: 'What happens if Adobe discontinues Magento Open Source?',
        description:
          'As a community-maintained distribution, Mage-OS can continue development independently. This is precisely why Mage-OS exists—to ensure the community controls its own future.',
      },
    ]}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-orange-50 dark:bg-transparent"></div>
    </Fragment>
  </FAQs>

  <!-- CallToAction Widget *********** -->

  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Download Mage-OS',
        href: '/get-started/quick-start',
        icon: 'tabler:download',
      },
      {
        text: 'View Roadmap',
        href: '/product/roadmap',
        icon: 'tabler:map',
      },
    ]}
  >
    <Fragment slot="title">
      Ready to Take Control of Your<br class="hidden sm:block" /> Commerce Future?
    </Fragment>

    <Fragment slot="subtitle">
      Join 1,641+ community members who chose independence. Download Mage-OS today and become part of the movement
      shaping open-source commerce.
    </Fragment>
  </CallToAction>
</Layout>
