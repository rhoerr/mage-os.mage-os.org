---
import { findLatestReleasePost } from '~/utils/blog';
import { getPermalink } from '~/utils/permalinks';

const latestRelease = await findLatestReleasePost();
---

{
  latestRelease && (
    <div class="dark text-muted text-sm bg-black dark:bg-transparent dark:border-b dark:border-slate-800 dark:text-slate-400 hidden md:flex gap-1 overflow-hidden px-3 py-2 relative text-ellipsis whitespace-nowrap">
      <span class="dark:bg-slate-700 bg-white/40 dark:text-slate-300 font-semibold px-1 py-0.5 text-xs mr-0.5 rtl:mr-0 rtl:ml-0.5 inline-block">
        NEW
      </span>
      <a
        href={getPermalink(latestRelease.permalink, 'post')}
        class="text-muted hover:underline dark:text-slate-400 font-medium"
      >
        {latestRelease.title} &raquo;
      </a>
      <a
        target="_blank"
        rel="noopener"
        class="ltr:ml-auto rtl:mr-auto w-[5.6rem] h-[1.25rem] ml-auto bg-contain inline-block bg-[url(https://img.shields.io/github/stars/mage-os/mageos-magento2.svg?style=social&label=Stars&maxAge=86400)]"
        title="If you like Mage-OS, give us a star!"
        href="https://github.com/mage-os/mageos-magento2"
      />
    </div>
  )
}
